<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>jeetSocial - Anonymous, but always kind.</title>
  <link rel="icon" href="/static/favicon.svg">
   <style>
     body { font-family: sans-serif; background: #18181b; color: #f5f5f5; margin: 0; }
   .banner { background: #222; color: #fff; padding: 1em; text-align: center; font-size: 1.2em; font-weight: bold; border-bottom: 4px solid; border-image: linear-gradient(90deg, #ff4b5c, #ffb26b, #ffe347, #43e97b, #3fa7d6, #7c4dff, #c86dd7) 1; position: sticky; top: 0; z-index: 1000; }
   .container { max-width: 600px; margin: 2em auto; background: #222; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.2); padding: 2em; }
   #feed { min-height: 400px; position: relative; transition: min-height 0.2s; }
   .skeleton-loader { display: flex; flex-direction: column; gap: 1em; padding: 1em 0; }
   .skeleton-post { background: #23232b; border-radius: 6px; height: 64px; margin-bottom: 1em; position: relative; overflow: hidden; }
   .skeleton-animate { animation: skeleton-shimmer 1.2s linear infinite; background: linear-gradient(90deg, #23232b 0%, #2c2c38 50%, #23232b 100%); background-size: 200% 100%; width: 100%; height: 100%; position: absolute; top: 0; left: 0; }
   @keyframes skeleton-shimmer { 0% { background-position: -200% 0; } 100% { background-position: 200% 0; } }
   h1, h2 { color: #ffe347; }
   .desc { margin-bottom: 2em; color: #b3b3b3; }
   .rainbow-link-gradient { background: linear-gradient(90deg, #ff4b5c, #ffb26b, #ffe347, #43e97b, #3fa7d6, #7c4dff, #c86dd7); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-weight: bold; font-size: 1.1em; text-decoration: underline; transition: text-shadow 0.2s; }
   .rainbow-link-gradient:hover { text-shadow: 0 0 8px #43e97b; }
    .post { background: #23232b; border-radius: 6px; box-shadow: 0 1px 4px rgba(0,0,0,0.08); margin-bottom: 1em; padding: 1em 1em 0.6em 1em; border-left: 6px solid #43e97b; color: #f5f5f5; }
   .username { font-weight: bold; color: #ff4b5c; margin-right: 1em; }
   .timestamp { color: #888; font-size: 0.9em; margin-left: 0.5em; }
   .post div { margin-top: 0.5em; font-size: 1.1em; color: #ffe347; overflow-wrap: anywhere; word-break: break-word; white-space: pre-wrap; }
   button { background: linear-gradient(90deg, #ff4b5c, #ffb26b, #ffe347, #43e97b, #3fa7d6, #7c4dff, #c86dd7); color: #fff; border: none; border-radius: 4px; padding: 0.75em 2em; font-weight: bold; cursor: pointer; transition: box-shadow 0.2s; font-size: 1.1em; min-width: 44px; min-height: 44px; }
   button:hover { box-shadow: 0 0 8px #43e97b; }
   textarea { background: #23232b; color: #f5f5f5; border: 2px solid #3fa7d6; border-radius: 12px; padding: 14px 18px; font-size: 1.1em; margin-bottom: 0.5em; width: 100%; resize: none; min-height: 120px; max-height: 180px; box-sizing: border-box; transition: border-color 0.2s, box-shadow 0.2s; }
   textarea:focus { border-color: #ff4b5c; box-shadow: 0 0 0 2px #ff4b5c33; outline: none; }
   .post-form-textarea-container { position: relative; margin-bottom: 1.5em; }
   #char-count { position: absolute; bottom: 12px; right: 20px; font-size: 13px; color: #888; background: rgba(24,24,27,0.85); padding: 2px 8px; border-radius: 12px; pointer-events: none; transition: color 0.2s, background 0.2s; }
   @media (min-width: 769px) { #char-count { bottom: 20px; right: 8px; } .post-form-row { flex-direction: row !important; align-items: center !important; gap: 1em !important; margin-top: 1.2em; padding: 0 0.5em; } .post-form-row button[type="submit"] { margin-left: auto; margin-right: 0; width: auto; font-size: 1.1em; padding: 0.75em 2em; display: inline-flex; justify-content: center; align-items: center; } }
   @media (max-width: 768px) { .container { max-width: 98vw; margin: 1em auto; padding: 1em; } .banner { font-size: 1em; padding: 0.7em; } h1, h2 { font-size: 1.3em; } .desc { font-size: 1em; } .post { padding: 0.7em; font-size: 1em; } button, textarea { font-size: 1em; padding: 0.7em 1em; min-width: 44px; min-height: 44px; } .post-form-row { flex-direction: column !important; align-items: stretch !important; gap: 0.7em !important; } .post-form-row button[type="submit"] { display: flex; justify-content: center; align-items: center; margin: 0.7em auto 0.3em auto; width: 90%; font-size: 1.3em; padding: 1em 0; text-align: center; } #emoji-btn { display: none; } }
   @media (max-width: 480px) { .container { max-width: 100vw; margin: 0.5em auto; padding: 0.5em; border-radius: 0; } .banner { font-size: 0.95em; padding: 0.5em; } h1, h2 { font-size: 1.1em; } .desc { font-size: 0.95em; } .post { padding: 0.5em; font-size: 0.95em; } button, textarea { font-size: 0.95em; padding: 0.5em 0.7em; min-width: 44px; min-height: 44px; } .post-form-row button[type="submit"] { display: flex; justify-content: center; align-items: center; width: 100%; font-size: 1.4em; padding: 1.2em 0; margin: 1em auto 0.5em auto; text-align: center; } #emoji-btn { display: none; } }
.kindness-badge {
        margin-left: 6px;
        font-size: 14px;
        min-width: 28px;
        padding: 2px 8px;
        background: #ffe347;
        color: #23232b;
        border-radius: 10px;
        font-weight: bold;
        text-align: center;
        vertical-align: middle;
        transition: background 0.2s, color 0.2s;
      }
      .kindness-row {
        display: flex;
        align-items: center;
        gap: 0.5em;
        margin-top: 0.3em;
        justify-content: flex-end;
      }

      /* Icon-only heart: visually small, large hit area for a11y */
      .kindness-icon-btn {
        background: transparent;
        border: none;
        color: #ff4b5c;
        font-size: 14px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 6px;
        min-width: 44px;
        min-height: 44px;
        border-radius: 6px;
        cursor: pointer;
        transition: background 0.12s, box-shadow 0.12s, transform 0.08s;
      }
      .kindness-icon-btn .icon { font-size: 14px; line-height: 1; pointer-events: none; }
      .kindness-icon-btn:hover { background: rgba(255,75,92,0.06); }
      .kindness-icon-btn:focus { box-shadow: 0 0 0 3px rgba(67,139,242,0.18); outline: none; }
      .kindness-icon-btn:disabled { opacity: 0.5; cursor: not-allowed; }

      /* Tooltip styles for kindness button */
      .kindness-tooltip {
        position: fixed;
        z-index: 99999;
        background: rgba(24,24,27,0.96);
        color: #ffe347;
        padding: 6px 10px;
        border-radius: 8px;
        font-size: 0.95em;
        box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        pointer-events: none;
        opacity: 0;
        transform: translateY(-6px);
        transition: opacity 0.12s ease, transform 0.12s ease;
      }
      .kindness-tooltip.show { opacity: 1; transform: translateY(0); }
     /* Toast styles */
     #toast {
       position: fixed;
       bottom: 32px;
       left: 50%;
       transform: translateX(-50%);
       background: #23232b;
       color: #ffe347;
       padding: 0.8em 2em;
       border-radius: 16px;
       box-shadow: 0 2px 12px rgba(0,0,0,0.25);
       font-size: 1.1em;
       font-weight: bold;
       opacity: 0;
       pointer-events: none;
       z-index: 9999;
       transition: opacity 0.3s, bottom 0.3s;
     }
     #toast.show { opacity: 1; pointer-events: auto; bottom: 48px; }
     #toast.error { background: #ff4b5c; color: #fff; }
      #toast.success { background: #43e97b; color: #23232b; }

      /* Toggle switch styles for "Post on Enter" */
      .toggle-switch {
        display: inline-flex;
        align-items: center;
        gap: 0.7em;
        cursor: pointer;
        user-select: none;
        font-size: 1em;
        position: relative;
      }
      .toggle-switch input[type="checkbox"] {
        opacity: 0;
        width: 44px;
        height: 28px;
        position: absolute;
        left: 0;
        margin: 0;
        z-index: 2;
        cursor: pointer;
      }
      .toggle-switch .slider {
        position: relative;
        display: inline-block;
        width: 44px;
        height: 28px;
        background: #444;
        border-radius: 14px;
        transition: background 0.2s;
        box-shadow: 0 1px 4px rgba(0,0,0,0.12);
        vertical-align: middle;
      }
      .toggle-switch input[type="checkbox"]:checked + .slider {
        background: linear-gradient(90deg, #43e97b 60%, #3fa7d6 100%);
      }
      .toggle-switch .slider:before {
        content: "";
        position: absolute;
        left: 4px;
        top: 4px;
        width: 20px;
        height: 20px;
        background: #23232b;
        border-radius: 50%;
        transition: transform 0.2s;
        box-shadow: 0 1px 4px rgba(0,0,0,0.18);
      }
      .toggle-switch input[type="checkbox"]:checked + .slider:before {
        transform: translateX(16px);
        background: #ffe347;
      }
      .toggle-switch input[type="checkbox"]:focus + .slider {
        box-shadow: 0 0 0 3px #43e97b88;
        outline: none;
      }
      .toggle-label {
        margin-left: 0.2em;
        color: #f5f5f5;
        font-weight: 500;
        vertical-align: middle;
        transition: color 0.2s;
      }
       @media (max-width: 480px) {
         .toggle-switch { font-size: 0.95em; gap: 0.5em; }
         .toggle-label { font-size: 0.95em; }
         .toggle-switch .slider { width: 38px; height: 24px; }
         .toggle-switch input[type="checkbox"] { width: 38px; height: 24px; }
       }

       /* View tabs styling */
       .view-tabs {
         display: flex;
         background: #2a2a2a;
         border-radius: 8px;
         overflow: hidden;
         box-shadow: 0 2px 4px rgba(0,0,0,0.1);
       }
       .view-tab {
         background: transparent;
         color: #b3b3b3;
         border: none;
         padding: 0.75em 1.5em;
         font-size: 1em;
         font-weight: 500;
         cursor: pointer;
         transition: all 0.2s ease;
         outline: none;
         min-width: 80px;
       }
       .view-tab:hover {
         background: rgba(67, 233, 123, 0.1);
         color: #43e97b;
       }
       .view-tab:focus {
         box-shadow: 0 0 0 2px #3fa7d6;
       }
       .view-tab.active {
         background: #43e97b;
         color: #23232b;
         font-weight: bold;
       }
       .view-tab[aria-selected="false"] {
         opacity: 0.7;
       }
       @media (max-width: 768px) {
         .view-tabs {
           flex-direction: column;
         }
         .view-tab {
           border-bottom: 1px solid #3a3a3a;
         }
         .view-tab:last-child {
           border-bottom: none;
         }
       }
 </style>
</head>
<body>
  <div class="banner">
    <a href="/static/index.html" class="rainbow-link-gradient" aria-label="Go to homepage">jeetSocial</a> exists to spread and encourage kindness. Share something uplifting or supportive today!
  </div>
  <div class="container">
    <h1>jeetSocial</h1>
    <div class="desc">
      Welcome to a safe, anonymous space for sharing kindness and positivity.<br>
      All posts are anonymous and assigned a random username.<br>
      Please keep your messages kind, supportive, and uplifting!
      <br><br>
      <div style="margin-bottom:1em;">
  <a href="/static/about.html" class="rainbow-link-gradient">Learn more about our kindness mission</a>
</div>
    </div>
    <!-- The rest of your app UI goes here -->
<h2 style="margin-top:0;">Share a message</h2>
<form id="post-form" style="margin-bottom:2em;">
  <div class="post-form-textarea-container" style="position:relative; margin-bottom:1.5em;">
    <textarea
      name="message"
      id="message"
      rows="4"
      maxlength="280"
      aria-label="Share something kind"
      placeholder="Share something kind…"
      style="width:100%;"
    ></textarea>
     <div id="char-count"
       aria-live="polite"
       style="position:absolute; bottom:12px; right:20px; font-size:13px; color:#888; background:rgba(24,24,27,0.85); padding:2px 8px; border-radius:12px; pointer-events:none;">
       0/280
     </div>
    </div>
   <div id="error" style="color: #ff4b5c; font-weight: bold; margin-bottom: 1em;"></div>
    <div class="post-form-row" style="display: flex; align-items: center; gap: 1em; margin-top:0.5em;">
      <button type="button" id="emoji-btn" title="Add emoji" style="font-size:1.2em; padding:0.5em; background: none; border: none; cursor: pointer; border-radius: 4px; transition: background-color 0.2s;" aria-label="Add emoji">😊</button>
      <label class="toggle-switch" title="When enabled, pressing Enter will post your message. Shift+Enter always adds a new line.">
        <input type="checkbox" id="enter-to-post" />
        <span class="slider"></span>
        <span class="toggle-label">Post on Enter</span>
      </label>
      <button type="submit" id="post-btn" aria-label="Post your message">Post</button>
      <emoji-picker id="emoji-picker" style="display:none; position:absolute; z-index:2000;"></emoji-picker>
    </div>
</form>
<!-- Emoji Picker CDN -->
<script type="module" src="https://cdn.jsdelivr.net/npm/emoji-picker-element@^1/index.js"></script>
   <div style="display: flex; align-items: center; gap: 1em; margin-top: 2em; margin-bottom: 1em;">
     <h2 style="margin: 0;">Recent Posts</h2>
     <div class="view-tabs" role="tablist" aria-label="Post view options">
       <button id="view-toggle-recent" class="view-tab active" role="tab" aria-selected="true" aria-controls="feed" tabindex="0">Recent</button>
       <button id="view-toggle-top" class="view-tab" role="tab" aria-selected="false" aria-controls="feed" tabindex="-1">Top</button>
     </div>
   </div>
   <div id="feed">
    <div class="skeleton-loader" id="skeleton-loader">
      <div class="skeleton-post"><div class="skeleton-animate"></div></div>
      <div class="skeleton-post"><div class="skeleton-animate"></div></div>
      <div class="skeleton-post"><div class="skeleton-animate"></div></div>
    </div>
  </div>
  <!-- Accessibility: offscreen live region for screen readers to announce kindness updates -->
  <div id="kindness-live" aria-live="polite" aria-atomic="true" style="position: absolute; left: -9999px; width: 1px; height: 1px; overflow: hidden; clip: rect(1px, 1px, 1px, 1px); white-space: nowrap;"></div>
  <!-- Toast notification container -->
  <div id="toast" role="status" aria-live="polite" aria-atomic="true"></div>
<script src="/static/main.js"></script>
  </div>
  <footer style="text-align:center;font-size:0.9em;color:#888;background:#23232b;padding:1em 0;margin-top:2em;">
    &copy; 2025 jeetSocial | <a href="https://github.com/bigknoxy/jeetSocial" target="_blank" style="color:#ffe347;text-decoration:underline;">GitHub</a>
  </footer>
</body>
</html>
